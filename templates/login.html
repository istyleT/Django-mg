{% extends 'layout.html' %}
{% load static %}

{% block style %}
<link  href="{% static 'css/custom.css' %}" rel="stylesheet">
{% endblock %}

{% block script %}
   <script type="text/javascript" src="{% static 'js/loginform.js' %}" defer></script>
{%  endblock %}

{% block content %}

<strong class="text-center" style="margin: 1vh 0vh; "><div id="error"  role="alert" ></div></strong>

<div id="relogin" style="display: none; text-align: center;" class="alert alert-danger" role="alert">
   <strong>Username หรือ Password ไม่ถูกต้อง</strong> 
 </div>

<form id="formlogin" action="firstdata" method="POST"> 
   {% csrf_token %}
   <div class="mb-3">
      <label class="col-sm-3 col-form-label col-form-label-lg">Username</label>
     <input id="username" type="text" class="form-control form-control-lg" name="username"  placeholder="Enter Your Name">
   </div>

   <div class="mb-3">
     <label  class="col-sm-3 col-form-label col-form-label-lg">Password</label>
     <input id="password" type="password" class="form-control form-control-lg" name="password"  placeholder="Enter Your Password">
   </div>

               
   
   <div class="d-grid gap-1" style="margin-top: 3vh;">
       <button type="submit" class="btn btn-success">เข้าสู่ระบบ</button>
   </div>
</form>
<!--------------------ส่วนทำงานเบื้องหลัง-------------------->       
<p id="status_login" style="display: none;">{{status_login}}</p>
<script>
   const status_login = String(document.getElementById('status_login').innerHTML) ;
   console.log(status_login);
   if (status_login === "False"){
       document.getElementById('relogin').style.display = "block" ;
   };
</script>
{% endblock %}