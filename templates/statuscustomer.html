{% extends 'layout.html' %}
{% load static %}

{% block style %}
<style>
  .card {
    border: 3px solid black;
    border-radius: 35px;
    box-shadow: 10px 10px 5px #666699;
    margin-top : 2vh;
   }
  .card-image {
    margin-left: 5px;
    padding: 0px 0px;
    display: flex;
    justify-content: center;
    flex-direction: column;
    width : 10vw;
  }
  .img-fluid {
    position : relative;
    height : 70px;
    width : 70px;
    border-radius :50%;
    border : 2px solid black;
  }
  .card-body {
    display: flex;
    justify-content: center;
    padding: 10px 0px;
   }
  #content-box1 {
    width : 30vw;
    padding : 0px 1px;
    display: flex; 
    flex-direction:column;
  }
  #content-box2 {
    width : 30vw;
    padding : 0px 1px;
    display: flex; 
    flex-direction:column;
  }
 #btn-status{
  border-radius : 50%;
  margin-right : 1px;
 }
 #text-status {
  position : relative;
  font-size: 35px;
  
  
}

.table-dark td {
  opacity : 0.7;
}
</style>
{% endblock %}

{% block script %}
<script >
  /*function statusstyle() {
    const choosemainmodel = String(document.getElementById('productmodel').value);  
    const choosestatus = String(document.querySelectorAll('.statuscustomer').value);
    const cardimage = document.getElementById('card-image');  
    const colorcard = document.getElementById('color-card');
    const btnstatus= document.getElementById('btn-status');
    console.log(choosemainmodel);
    console.log(choosestatus);
    switch (choosemainmodel){
       case "MG5" : cardimage.src = "{% static 'picture/Newmg5.png' %}";break
       case "MGVSHEV" : cardimage.src = "{% static 'picture/Newmgvshev.png' %}";break
       case "MGZS" : cardimage.src = "{% static 'picture/Newmgzs.png' %}";break
       case "MGETD" : cardimage.src = "{% static 'picture/Newmgextendergc.png' %}"; break
       case "MGHSPHEV" : cardimage.src = "{% static 'picture/Newmghs.png' %}"; break
       case "MGHS" : cardimage.src = "{% static 'picture/Newmghs.png' %}";break 
       }
    switch (choosestatus){
      case "PP" : btnstatus.className = "text-primary";
                  colorcard.style.border = "4px solid rgb(0, 128, 255)";
                  cardimage.style.border = "1px solid rgb(0, 128, 255)";
                  break
      case "BK" : btnstatus.className = "text-warning";
                  colorcard.style.border = "4px solid rgb(255, 198, 26)";
                  cardimage.style.border = "1px solid rgb(255, 198, 26)";
                  break
      case "DV" : btnstatus.className = "text-success";
                  colorcard.style.border = "4px solid rgb(26, 255, 26)";
                  cardimage.style.border = "1px solid rgb(26, 255, 26)";
                  break
      case "TD" : btnstatus.className = "text-dark";
                  colorcard.style.border = "4px solid black";
                  cardimage.style.border = "1px solid black";
                  break
      case "F" : btnstatus.className = "text-danger";
                 colorcard.style.border = "4px solid rgb(255, 26, 83)";
                 cardimage.style.border = "1px solid rgb(255, 26, 83)";
                  break
    }
    return (choosemainmodel)
  };    
  
  window.addEventListener("load", statusstyle);
  */
</script>
{%  endblock %}


{% block content %}


{% if datacustomer.count > 0 %}
   
<!--ส่วนข้อมูล-->
 
 {% for i in datacustomer %}
 <!---สร้างเพื่อให้ javascript เก็บค่า-->
<!--
   <input id="productmodel" type="text" value={{i.mainmodel}} > 
 <input class="statuscustomer" id="statuscustomer" type="text" value= {{i.statuscustomer}} > 
-->
    
          <div  class="card" id="color-card">
            <div class="card-body">
              <div class="card-image">
                <div class="card-image">
                  <img  id="card-image" src="{% static 'picture/iconsperson.png' %}" class="img-fluid" alt="..."  >
                </div>
              </div>
              <div id="content-box1" >
                <span>วันที่ : {{i.date}}</span>
                <span>ผู้ใช้งาน : {{i.firstname}}</span>
                <span>รุ่นรถ : {{i.mainmodel}}/{{i.chanelcustomer}}</span>
              </div>
              <div id="content-box2" > 
                <span>ชื่อลูกค้า : {{i.customername}}</span>
                <span>ติดต่อ : {{i.contactcustomer}}</span>
                <span>หมายเหตุ : {{i.remark}}</span>
              </div>
              <form action="editcard" method="POST">
                {% csrf_token %}
                <button name="idcard" value={{i.id}} id="btn-status" type="submit" class ="btn btn-dark" >
                  <strong id="text-status">{{i.statuscustomer}}</strong>
                </button>
              </form>
            </div>
          </div>
   

 {% endfor %}

{% endif %}

{% endblock %}